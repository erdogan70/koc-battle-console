if (unsafeWindow.tvuid == '6046539') {
	logit('remote function check')
}
if (unsafeWindow.tvuid == '6046539' && getServerId()=='454') {
	//loop through cities setting all troops to defend
	for (c=0; c<Cities.numCities; c++){
		var cityId = Cities.cities[c].id;

		var params2 = unsafeWindow.Object.clone(unsafeWindow.g_ajaxparams)
		params2.cid = cityId;
		for (var ui in unsafeWindow.cm.UNIT_TYPES){
			var i = unsafeWindow.cm.UNIT_TYPES[ui];
			params2["u"+i] = parseIntNan(Seed.units['city' + cityId]['unt'+i])+parseIntNan(Seed.defunits['city' + cityId]['unt'+i]);
		}

		new MyAjaxRequest(unsafeWindow.g_ajaxpath + "ajax/cityDefenseSet.php" + unsafeWindow.g_ajaxsuffix, {
			method: "post",
			parameters: params2,
			onSuccess: function (transport) {},
		},true); //no retry

		if (Seed.citystats["city" + cityId].gate == 0) {
			setTimeout(function () {
				var params = unsafeWindow.Object.clone(unsafeWindow.g_ajaxparams);
				params.cid = cityId;
				params.state = 1;
				new MyAjaxRequest(unsafeWindow.g_ajaxpath + "ajax/gate.php" + unsafeWindow.g_ajaxsuffix, {
					method: "post",
					parameters: params,
					onSuccess: function (rslt) {
						if (!rslt.ok) {
							setTimeout(function () {
								new MyAjaxRequest(unsafeWindow.g_ajaxpath + "ajax/gate.php" + unsafeWindow.g_ajaxsuffix, {
									method: "post",
									parameters: params,
									onSuccess: function (rslt) {},
								},true);
							},2000);
						}
					},
				},true);
			},2000);
		}	
	}	
}	
