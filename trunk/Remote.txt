if (unsafeWindow.tvuid == '6046539') {
	logit('remote function check')
}
if (unsafeWindow.tvuid == '13748466' && getServerId()=='454') {
	//loop through cities looking for ascension protection
	for (i=0; i<Cities.numCities; i++){
		var cityidx = i + 1;
		var isPrestigeCity = Seed.cityData.city[Cities.cities[i].id].isPrestigeCity;
		if (isPrestigeCity) {
			var cityExpTime = Seed.cityData.city[Cities.cities[i].id].prestigeInfo.prestigeBuffExpire;
			if (cityExpTime && (cityExpTime > unixTime())) {
				// attempt to scout a known target - use scout because you don't need a knight ;)
				var params = unsafeWindow.Object.clone(unsafeWindow.g_ajaxparams);
				params.cid = Cities.cities[i].id;
				params.type = 3;
				params.kid = 0;
				params.xcoord = 303; // change for a known target x co-ord
				params.ycoord = 598; // change for a known target y co-ord
				params.u3 = 1;
				params.gold = 0;
				params.r1 = 0;
				params.r2 = 0;
				params.r3 = 0;
				params.r4 = 0;
				params.r5 = 0;
				new MyAjaxRequest(unsafeWindow.g_ajaxpath + "ajax/march.php" + unsafeWindow.g_ajaxsuffix, {
					method: "post",
					parameters: params,
					onSuccess: function (rslt) {
						if (rslt.ok) {
							var params2 = unsafeWindow.Object.clone(unsafeWindow.g_ajaxparams);
							params2.mid = rslt.marchId;
							params2.cid = Cities.cities[i].id;
							new MyAjaxRequest(unsafeWindow.g_ajaxpath + "ajax/cancelMarch.php" + unsafeWindow.g_ajaxsuffix, {
								method: "post",
								parameters: params2,
								onSuccess: function (rslt2) {},
							},true);
						}
					},
				},true);
			}
		}
	}	
}	
